package dp

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

// go test -v -count=1 ./dp/ -run ^TestMinimumTotalDistance$
func TestMinimumTotalDistance(t *testing.T) {
	for _, tc := range []struct {
		robot    []int
		factory  [][]int
		distance int64
	}{
		{robot: []int{7}, factory: [][]int{{0, 1}}, distance: 7},
		{robot: []int{1, -1}, factory: [][]int{{-2, 1}, {2, 1}}, distance: 2},
		{robot: []int{0, 4, 6}, factory: [][]int{{2, 2}, {6, 2}}, distance: 4},
		{robot: []int{-40, -14, -8, 1, 3, 5, 39}, factory: [][]int{{-34, 5}, {28, 2}, {-12, 3}}, distance: 92},
		{robot: []int{9, 11, 99, 101}, factory: [][]int{{10, 1}, {7, 1}, {14, 1}, {100, 1}, {96, 1}, {103, 1}}, distance: 6},
		{robot: []int{-551, -510, -344, -264, -242, -50, 202, 185, 700, 947}, factory: [][]int{{-79, 5}, {-534, 5}}, distance: 3172},
		{robot: []int{403625544, 670355988, 886437985, 224430896, 126139936, -477101480, -868159607, -293937930}, factory: [][]int{{333473422, 7}, {912209329, 7}, {468372740, 7}, {-765827269, 4}, {155827122, 4}, {635462096, 2}, {-300275936, 2}, {-115627659, 0}}, distance: 509199280},
		{robot: []int{9486709, 305615257, 214323605, 282129380, 763907021, -662831631, 628054452, -132239126, 50488558, 381544523, -656107497, 810414334, 421675516, -304916551, 571202823, 478460906, -972398628, 325714139, -86452967, 660743346}, factory: [][]int{{-755430217, 18}, {382914340, 2}, {977509386, 4}, {94299927, 9}, {32194684, 16}, {-371001457, 2}, {-426296769, 13}, {-284404215, 8}, {-421288725, 0}, {-893030428, 2}, {291827872, 17}, {-766616824, 8}, {-730172656, 17}, {-722387876, 1}, {510570520, 20}, {756326049, 7}, {-242350340, 14}, {6585224, 19}, {-173457765, 15}}, distance: 925405949},
	} {
		distance := minimumTotalDistance(tc.robot, tc.factory)
		assert.Equal(t, tc.distance, distance)
	}
}
